# Состояние разработки

## Основные концепты

### Бизнес-логика
1. Процесс работы с письмами:
   - Сотрудники получают почту
   - Раскладывают по папкам с номерами комнат
   - При сканировании первого штрих-кода письмо заносится в систему
   - Получатель уведомляется через Telegram
   - При выдаче письма сканируется второй штрих-код
   - Письмо отмечается как выданное в системе

2. Организация хранения:
   - Каждая папка (комната) имеет два уникальных штрих-кода
   - Первый - для регистрации входящих писем
   - Второй - для отметки о выдаче

3. Уведомления:
   - Мгновенные уведомления через Telegram при получении письма
   - Статус письма отслеживается в системе
   - История получения и выдачи писем

### Технические решения
1. Работа в офлайн-режиме:
   - Локальное хранение данных через IndexedDB (Dexie)
   - Синхронизация при восстановлении соединения
   - PWA для работы без интернета

2. Архитектура данных:
   - Связь писем и комнат через внешний ключ
   - Представление для объединенных данных
   - Индексы для быстрого поиска

3. Безопасность:
   - Row Level Security в Supabase
   - Аутентификация пользователей
   - Защита от дублирования писем

4. Мобильная оптимизация:
   - Адаптивный интерфейс
   - Оптимизация для работы со сканером
   - Быстрая загрузка и кэширование

## Текущая структура проекта

1. База данных (Supabase):
   - Таблица `rooms`